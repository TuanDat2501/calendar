/* app/globals.scss */

// 1. Variables (Cấu hình màu sắc)
$primary: #2563eb;       // Xanh dương chủ đạo
$primary-light: #eff6ff; // Nền xanh nhạt
$text-main: #1f2937;     // Chữ đen
$text-gray: #6b7280;     // Chữ xám
$bg-app: #f9fafb;        // Nền app
$white: #ffffff;
$border: #e5e7eb;
$red: #ef4444;
$green: #22c55e;

// 2. Reset & Base
:root {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

body {
  background-color: $bg-app;
  color: $text-main;
  -webkit-tap-highlight-color: transparent;
}

// 3. App Container (Giả lập Mobile)
.app-container {
  max-width: 480px;
  margin: 0 auto;
  background-color: $bg-app;
  min-height: 100vh;
  position: relative;
  padding-bottom: 80px; // Chừa chỗ cho nút FAB
  box-shadow: 0 0 20px rgba(0,0,0,0.05);
}

// 4. Header
.app-header {
  background: $white;
  padding: 20px 24px;
  position: sticky;
  top: 0;
  z-index: 10;
  box-shadow: 0 1px 2px rgba(0,0,0,0.05);

  h1 {
    font-size: 24px;
    font-weight: 800;
    color: $text-main;
  }
}

.content-wrapper {
  padding: 16px;
}

// 5. Tabs
.tab-nav {
  display: flex;
  background: #e5e7eb;
  padding: 4px;
  border-radius: 12px;
  margin-bottom: 24px;

  .tab-btn {
    flex: 1;
    border: none;
    background: transparent;
    padding: 10px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    color: $text-gray;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    transition: all 0.2s;

    &.active {
      background: $white;
      color: $primary;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
  }
}

// 6. Components
.card {
  background: $white;
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
  border: 1px solid $border;
  margin-bottom: 20px;
}

.form-control {
  width: 100%;
  padding: 12px;
  border: 1px solid $border;
  border-radius: 12px;
  font-size: 14px;
  outline: none;
  background: #f9fafb;
  transition: 0.2s;

  &:focus {
    border-color: $primary;
    background: $white;
  }
}

// 7. Calendar Grid
.calendar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;

  h3 {
    font-size: 18px;
    font-weight: 700;
    text-transform: capitalize;
  }

  .controls button {
    background: none;
    border: none;
    padding: 8px;
    cursor: pointer;
    border-radius: 8px;
    color: $text-gray;
    &:hover { background: #f3f4f6; }
  }
}

.week-days {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  text-align: center;
  margin-bottom: 8px;
  
  span {
    font-size: 12px;
    font-weight: 700;
    color: #9ca3af;
  }
}

.days-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
}

.day-cell {
  height: 56px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  border-radius: 12px;
  cursor: pointer;
  position: relative;
  border: 1px solid transparent;
  transition: 0.2s;

  .solar { font-size: 14px; font-weight: 600; line-height: 1; }
  .lunar { font-size: 10px; margin-top: 2px; color: #9ca3af; }
  .dot { 
    width: 4px; height: 4px; background: $primary; 
    border-radius: 50%; position: absolute; bottom: 4px; 
  }

  // States
  &:hover { background: #f3f4f6; }
  
  &.today {
    border-color: $primary;
    color: $primary;
    .lunar { color: $primary; }
  }

  &.has-event {
    background: $primary-light;
  }

  &.selected {
    background: $primary !important;
    color: $white !important;
    border-color: $primary;
    box-shadow: 0 4px 10px rgba(37, 99, 235, 0.3);
    
    .lunar { color: rgba(255,255,255,0.8); }
    .dot { background: $white; }
  }
}

// 8. Event List
.event-list {
  .list-title {
    font-size: 14px;
    font-weight: 600;
    color: $text-gray;
    margin-bottom: 12px;
    margin-left: 4px;
  }
}

.event-item {
  background: $white;
  padding: 16px;
  border-radius: 12px;
  border: 1px solid #f3f4f6;
  margin-bottom: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 1px 2px rgba(0,0,0,0.02);

  h4 { font-size: 15px; font-weight: 600; margin-bottom: 4px; }
  .time { font-size: 12px; color: $text-gray; display: flex; align-items: center; gap: 4px; }

  .tag {
    font-size: 10px; font-weight: 700; padding: 4px 8px; border-radius: 20px; text-transform: uppercase;
    &.work { background: #dbeafe; color: #1e40af; }
    &.personal { background: #fee2e2; color: #991b1b; }
    &.health { background: #dcfce7; color: #166534; }
  }
}

.empty-state {
  text-align: center; padding: 30px; color: $text-gray; font-style: italic;
  border: 1px dashed $border; border-radius: 12px;
}

// 9. Floating Button (FAB)
.fab-btn {
  position: fixed; bottom: 24px; right: 24px;
  width: 56px; height: 56px;
  background: $primary; color: $white;
  border-radius: 50%; border: none;
  box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; z-index: 50; transition: transform 0.2s;
  
  &:active { transform: scale(0.9); }
}

// 10. Modal
.modal-overlay {
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.5);
  z-index: 100;
  display: flex; align-items: center; justify-content: center;
  padding: 20px;
  backdrop-filter: blur(2px);

  .modal-content {
    background: $white;
    width: 100%; max-width: 360px;
    padding: 24px; border-radius: 20px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.2);
    animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .form-group {
    margin-bottom: 16px;
    label {
      display: block; font-size: 12px; font-weight: 700; 
      text-transform: uppercase; color: $text-gray; margin-bottom: 6px; 
    }
  }

  .type-options {
    display: flex; background: #f3f4f6; padding: 4px; border-radius: 10px;
    button {
      flex: 1; border: none; background: none; padding: 8px; font-size: 12px; font-weight: 600; border-radius: 8px; cursor: pointer;
      &.active { background: $white; color: $primary; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
    }
  }

  .modal-actions {
    display: flex; gap: 12px; margin-top: 24px;
    button {
      flex: 1; padding: 12px; border-radius: 10px; border: none; font-weight: 600; cursor: pointer;
      &.cancel { background: #f3f4f6; color: $text-gray; }
      &.save { background: $primary; color: $white; }
    }
  }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}